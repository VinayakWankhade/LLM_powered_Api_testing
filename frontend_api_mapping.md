# AI TestGen: Frontend-Backend API Mapping Report

This report summarizes all the API endpoints the frontend application is prepared to consume, including their data structures and current implementation status.

## üì° Core API Categories

### 1. Authentication & Security
The entry point for all users.
- **POST /api/auth/register**
  - **Input**: `{ firstName, lastName, email, password }`
  - **Output**: `{ token, user: { id, firstName, email, role } }`
- **POST /api/auth/login**
  - **Input**: `{ email, password }`
  - **Output**: `{ token, user: { id, email, role } }`
- **GET /api/auth/verify**
  - **Status**: Backend ready.
  - **Headers**: `Authorization: Bearer <token>`
  - **Output**: `{ user: { ... } }`

### 2. Project Lifecycle
Managing the different services being tested.
- **GET /api/projects**
  - **Output**: `Array<{ id, name, status, endpoints, coverage, trend, lastActivity }>`
- **POST /api/projects**
  - **Input**: `{ name, description, gitUrl, apiBaseUrl }`
  - **Output**: `{ project: { id, ... } }`
- **GET /api/projects/:id**
  - **Output**: `{ project: { id, name, stats: { endpoints, tests, passRate }, recentRuns: [] } }`

### 3. Scanner & Endpoint Discovery
The engine that discovers what to test.
- **GET /api/projects/:id/endpoints**
  - **Output**: `Array<{ id, method, path, status, lastScanned }>`
- **POST /api/projects/:id/endpoints/scan**
  - **Input**: `project_id`
  - **Output**: `{ scanId, status: "Started" }`

### 4. AI Test Generation
The "Brain" of the platform.
- **GET /api/projects/:id/test-cases**
  - **Output**: `Array<{ id, description, status, priority, type }>`
- **POST /api/projects/:id/tests/generate**
  - **Input**: `{ endpointIds: [] }`
  - **Output**: `{ jobId, status: "queued" }`
- **GET /api/projects/:id/tests/:tid**
  - **Output**: `{ id, code, inputData, expectedOutput, assertions }`

### 5. Analytics & Dashboard
Real-time insights and KPI tracking.
- **GET /api/analytics/dashboard**
  - **Output**: `{ total_projects, total_endpoints, total_tests, pass_rate, healed_tests }`
- **GET /api/analytics/ai-efficiency**
  - **Output**: `{ avg_generation_time_sec, healing_success_rate, failed_heal_attempts }`
- **GET /api/projects/:id/analytics**
  - **Output**: `{ project_name, endpoints, tests, healing_rate, last_run_status }`

## üõ†Ô∏è Data Structure Details (Observed in Mocks)

### Coverage Data
The frontend expects coverage at a granular level:
- **Input Params**: `{ name, type, coverage (%), testValues (count) }`
- **Output Params**: `{ name, type, status (Validated/Partial), coverage (%) }`

### Test Runs
- **Run Object**: `{ id, status, startedAt, duration, passRate, healedCount }`
- **Healing Log**: `{ id, testCaseId, oldSelector, newSelector, reason, success: bool }`

---

## üèóÔ∏è Implementation Gaps
Based on your frontend components, the following features are supported in the UI but need backend endpoints implemented:
1.  **Test Execution Runner**: `POST /api/projects/:id/runs` (Executing the generated code).
2.  **Profile Management**: `PATCH /api/user/profile` (Updating settings).
3.  **API Key Management**: `GET/POST /api/user/api-keys` (For external integrations).
4.  **Trend Data**: Time-series data for the dashboards.

---
*Report generated by AI Assistant on 2025-12-30*

